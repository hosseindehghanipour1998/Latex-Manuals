% ====================== Packages =============================
\documentclass[a4paper,12pt]{book}			   
\usepackage[left=2cm, right=2cm, top=2.5cm, bottom=2.5cm]{geometry}
\usepackage{fancyhdr , lipsum}
\usepackage{mathptmx}
\usepackage{anyfontsize}
\usepackage{t1enc}
\usepackage{csquotes}
\usepackage{blindtext}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage[linktocpage]{hyperref}
\usepackage{graphicx}
\usepackage{float}
\usepackage{subcaption}
\usepackage[section]{placeins} 
\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage{tcolorbox}
\usepackage[english]{babel}
\usepackage[export]{adjustbox}
\usepackage{siunitx}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{setspace}
\newcommand{\thedate}{\today}
\usepackage{atbegshi}% http://ctan.org/pkg/atbegshi
\AtBeginDocument{\AtBeginShipoutNext{\AtBeginShipoutDiscard}}
% ====================== Begin Doc =============================
\begin{document}

    \begin{titlepage}
        \begin{center}
            \title{\Large{\textbf{Data Transfer HW 1}}}
            \author{Hossein Dehghanipour - 9532250}
            \date{\today}
        \end{center}
    \end{titlepage}
    \maketitle

\setmainfont{Times New Roman}
\pagenumbering{roman}
\tableofcontents
\thispagestyle{empty}
\newpage
\pagenumbering{arabic}

% *************** Questions Section ******************

\fontsize{15pt}{15pt}
\newcommand{\nnl}{\newline \noindent}
\newcommand{\ptx}{ P_{tx} }
\newcommand{\prx}{ P_{rx} }
%===================================
\section {Question 1}

\subsection{A}
\begin{doublespace}
 $ P_{tx} = 10 $\nnl
 $Att = -20 db$ \nnl
$P_{rx} = ? $ \nnl
\noindent $ att = 10 * \log_{10} {(\frac {\prx}{\ptx})}  \Longrightarrow -20 =  10 * \log_{10} {(\alpha)}   \Longrightarrow   \alpha = 10^{-2}          $ \nnl
$ \alpha = (\frac {\prx}{\ptx})  \Longrightarrow (\frac {\prx}{10})  =   \frac {1}{100}   \Longrightarrow   \prx =  \frac {1}{10} watt \Longrightarrow \prx = 10^{2} mW$\nnl
\end{doublespace}




\subsection{B}
\line(1,0){450}

%===================================
\section {Question 2 }
\begin{doublespace}
$Total Attenuation = -12 + 35 - 10 = 13 db $ \\
$+13 = 10 * \log_{10} {(\frac {\prx}{4})}  \Longrightarrow 10^{1.3} = (\frac {\prx}{4}) \Longrightarrow \prx = 79.8 $
\end{doublespace}
\line(1,0){450}
%===================================
\section {Question 3 }

\subsection{A}
\begin{doublespace}
$Nyquist : C = 2 * W * m $ \\
$m = \log_2 {M}$\\
$M = 32 \Longrightarrow C = 2 * 10 K * \log_{2} {32}  \Longrightarrow C = 2 * 10K * 5 = 100 kb/s$\\
$C = 10^5$
\end{doublespace}



\subsection{B}
\begin{doublespace}
$C = BW * \log_2 {(1 + \frac{S}{N} )}  \Longrightarrow 100K = 10K * \log_2 {(1 + \frac{S}{N}) }  \Longrightarrow 10 = \log_2 {(1 + \frac{S}{N}) } \Longrightarrow 2^{10} = 1 + (\frac{S}{N}) \Longrightarrow (\frac{S}{N}) = 1023 $\\
$SNR = 10 * \log_{10} (\frac {S}{N}) \Longrightarrow SNR = 10 * \log_{10}{1023} \Longrightarrow SNR \approx 30 db$
\end{doublespace}


\subsection{C}
\begin{doublespace}
$C_{new} = 2 * C_{old} \Longrightarrow C_{new} = 2 * 100kb = 200kb = 2 * 10^5 b$\\
$2 * 10^5 = 10^4 * \log_2 {(1 + \frac{S}{N} ) } \Longrightarrow 20 = \log_2 {(1 + \frac{S}{N} )} \Longrightarrow \frac{S}{N} + 1 = 2 ^{20} \Longrightarrow \frac{S}{N} = 2^{20} - 1 $\\
$SNR = 10 * \log_{10}{\frac{S}{N}} \Longrightarrow SNR = 10 * \log_{10}{2^{20} - 1 } \approx 60 db  \Longrightarrow SNR \approx 60 db$

\end{doublespace}
\line(1,0){450}

%===================================
\section {Question 4 }
\begin{doublespace}
$N = 10mW$\\
$\ptx = 20dbmW \Longrightarrow 10 \log_{10}{2} = 20 \Longrightarrow \log_{10}{S} = 2 \Longrightarrow \ptx = 10^2  mW $\\
$-5 = 10 \log_{\frac{\prx}{100}}{10} \Longrightarrow (\frac{-1}{2}) = \log_{\prx}{100} \Longrightarrow 10^{-5} = \frac{\prx}{10^2} \Longrightarrow \prx = 10^{1.5} = S$\\
$C = BW * \log_{2}{(1 + \frac{S}{N})} \Longrightarrow C = 2 * 10^6  * \log_{2}{(1 + 10^{0.5})} \Longrightarrow C = 2 * 10^6 * \log_{2}{(3.16 + 1)} \Longrightarrow  C = 2 * 10^6 * \log_{2}{(4.16)} \approx 4 MHz $
\end{doublespace}
\line(1,0){450}

%===================================
\section {Question 5 }
\begin{doublespace}
$\log_{10}{(\frac{E_b}{N_0})} = 4.2 db$\\
$E_b = S * T_b = \frac{S}{R} \Longrightarrow (\frac{E_b}{N_0}) = (\frac{S}{R N_0}) =( \frac{S}{RKT})$\\
$\Longrightarrow 10 \log_{10}{(\frac{E_b}{N_0})} = 10 \log_{10}{(S)} - 10 \log_{10}{(RKT)} \Longrightarrow 10 \log_{10}{(S)} = 10 \log_{10}{(RKT)} + 10 \log_{10}{(\frac{E_b}{N_0})} \Longrightarrow 10 \log_{10}{(S)} = 10 \log_{10}{(RKT)} + 4.2 \Longrightarrow 10 \log_{10}{(S)} = 10 \log_{10}{(270 * 3600 * 1.38 * 10^{-23})} + 4.2  \Longrightarrow  10 \log_{10}{(S)} = -164.67 \Longrightarrow  \log_{10}{(S)} = -16.467 \Longrightarrow S = 10^{-16.46} \approx 10^{-16}$
\end{doublespace}
\line(1,0){450}


%===================================
\section {Question 6 }
\begin{doublespace}
\end{doublespace}
\line(1,0){450}


%===================================
\section {Question 7 }
\begin{doublespace}
10 Channels + 9 Guard Band : $\Longrightarrow  10 * (4 )KHz + 9 * (0.5) KHz = 40 + 4.5 = 44.5 KHz $ 
\end{doublespace}
\line(1,0){450}

%===================================

\section {Question 8 }

\subsection{A}
\begin{doublespace}
$In FSK : F_g $>$  0 \Longrightarrow f_s - \frac{R}{2}  $>$  0 \Longrightarrow  f_s - 1000 > 0 \Longrightarrow f_s > 1000 $ \\
$I Assume that f_s = 1200 \Longrightarrow f_g = 200$ \\
$BW = 1200 + 1000 = 2200$\\
\end{doublespace}



\subsection{B}
In ASK : $BW = 2f_0 = R = 2 kHz$ \\


\subsection{C}
Both FSK and PSK are calculated with the same formula $\Longrightarrow BW = 2f_0 = R = 2 kHz $\\
\line(1,0){450}
%===================================
\section {Question 9 }
\begin{doublespace}
$10 \log_{10}{(\frac{E_b}{N_0})} = 10 \log_{10}{\frac{S}{N}} + 10 \log_{10}{W} - 10 \log_{10}{R} \Longrightarrow 18 = 15 + 10 \log_{10}{\frac{S}{R}} \Longrightarrow 3 = 10 \log_{10}{\frac{W}{R}} \Longrightarrow$\\
$ (\frac{W}{R}) = 10^{0.3} \Longrightarrow B = (\frac{R}{W}) = \frac{1}{10^{0.3}} \approx 0.5$
\end{doublespace}
\line(1,0){450}

% ====================== End Doc =============================
\end{document}